import{f as s}from"./fetch-DEkoyLsj.js";async function m(){console.log("Haetaan käyttäjän tiedot");const t="http://localhost:3000/api/auth/me",o={method:"GET",headers:{Authorization:"Bearer: "+localStorage.getItem("token")}};s(t,o).then(e=>{console.log(e),document.getElementById("name").innerHTML=e.user.username})}document.querySelector(".user_info").addEventListener("click",u);async function u(){const t="http://localhost:3000/api/auth/me",o={method:"GET",headers:{Authorization:"Bearer "+localStorage.getItem("token")}};s(t,o).then(e=>{console.log(e);const n=e.user.username,l=e.user.email,c=e.user.user_level;d(n,l,c)}).catch(e=>{console.error("Error:",e)})}function d(t,r,o){const e=document.getElementById("information"),n=document.getElementById("userinfo");n.innerHTML="";const l=document.createElement("h4"),c=document.createElement("p"),i=document.createElement("p"),a=document.createElement("p");l.textContent="User information: ",c.textContent="Username: "+t,i.textContent="Email: "+r,a.textContent="User level: "+o,n.appendChild(l),n.appendChild(c),n.appendChild(i),n.appendChild(a),e.showModal()}document.getElementById("closeInfo").addEventListener("click",function(){document.getElementById("information").close()});document.querySelector(".logout").addEventListener("click",h);function h(t){t.preventDefault(),localStorage.removeItem("token"),console.log("logginout"),window.location.replace("index.html")}m();
