import{f as u}from"./fetch-DEkoyLsj.js";async function d(){console.log("Haetaan käyttäjän tiedot");const n="https://hyte-servu.northeurope.cloudapp.azure.com/api/auth/me",o={method:"GET",headers:{Authorization:"Bearer: "+localStorage.getItem("token")}};u(n,o).then(e=>{console.log(e),document.getElementById("name").innerHTML=e.user.username})}document.querySelector(".user_info").addEventListener("click",p);async function p(){const n="https://hyte-servu.northeurope.cloudapp.azure.com/api/auth/me",o={method:"GET",headers:{Authorization:"Bearer "+localStorage.getItem("token")}};u(n,o).then(e=>{console.log(e);const a=formatDate(e.user.created_at),t=e.user.username,r=e.user.email,c=e.user.user_level;h(a,t,r,c)}).catch(e=>{console.error("Error:",e)})}function h(n,l,o,e){const a=document.getElementById("information"),t=document.getElementById("userinfo");t.innerHTML="";const r=document.createElement("h4"),c=document.createElement("p"),s=document.createElement("p"),i=document.createElement("p"),m=document.createElement("p");r.textContent="User information: ",c.textContent="User created: "+n,s.textContent="Username: "+l,i.textContent="Email: "+o,m.textContent="User level: "+e,t.appendChild(r),t.appendChild(c),t.appendChild(s),t.appendChild(i),t.appendChild(m),a.showModal()}document.getElementById("closeInfo").addEventListener("click",function(){document.getElementById("information").close()});document.querySelector(".logout").addEventListener("click",f);function f(n){n.preventDefault(),localStorage.removeItem("token"),console.log("logginout"),window.location.replace("index.html")}d();
